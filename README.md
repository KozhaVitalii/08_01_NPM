# js-22

- Терминал
  - [Шпаргалка 1](https://tproger.ru/translations/bash-cheatsheet/)
  - [Шпаргалка 2](https://habr.com/ru/company/ruvds/blog/445270/)
  - Открыть
    - `control + ~`
    - `view > teminal`
    - через палитру `command + shift + p`
  - Основные полезные команды
    - путь (pwd)
    - лист (ls)
    - навигация (cd)
    - очистка `clear` или `control + l`
    - создание файлов (touch)
    - создание папок (mkdir)
    - переименование/перемещение (mv)
    - удаление файлов (rm)
    - удаление папки с вложенными файлами (rm -rf). 
    - удаление пустой папки через (rmdir) 
- Node.js и npm (крутая утилита которая позволяет устанавливать библиотеки в наш проект)
  - установка
  - инициализация и package.json (команда npm init инициализирует npm в текущей папке)
  package.json - это манифест проекта в котором важные два поля это "скрипт", где мы можем посмотреть описание того что мы 
  можем запускать командно и "депенденси" - где мы можем увидеть от каких библиотек будет зависить наш проект (какие пакеты
  подключены)
  - [npmjs.com](https://www.npmjs.com/) - это сайт с графическим интерфесом для того чтобы лучше разобраться с документацией
  каждого пакета(библиотеки) в npm. Библиотека - это кем то из разработчиков написанное хорошее решение стандартных проблем и
  выложенное в свободный доступ. К примеру есть такой пакет joi
  - работа с пакетами (при работе с командніми проектами ни в коем случае нельзя добавлть на общий(командный репозиторий свои
  модули(пакеты), которые себе как разработчик добавил для работы с проектом в папку node_modules) при установке пакетов)!!!
  Для этого обзательно необходимо в файле gitignore добавить такую запись node_modules/ (это значит что из под контроля гита
  необходимо исключить эту папку и все файлы которые в неё вложены). Также при создании репозитория мы можем выбирать в поле
  гит игнор что игнорируем по умолчанию (тот node который я каждый раз указываю при создании нового репозитория, теперь понятно зачем указываем) 
    - установка (команда npm install joi или сокращенно npm i joi - пример подключени пакета (библиотеки) описано в описании к пакету)
    - удаление (команда npm remove на примере пакета (библиотеки) uuid.v4)

Как использовать єти модули(библиотеки) у себя в node.js( внимание не в файле js(т.е. в браузере), но дальше конечно же 
научимся использовать эти библиотеки и в браузере(т.е. в js файлах) тоже): 
  - CommonJS модули (пишем к примеру const joi  require('joi'); см. файл validate-password)
  - npm-скрипты (это пакетный менеджер )
    - pre и post

// node validate-password.js (здесь важно указывать путь по которому лежит файл, если файл лежит не в корневой пакет, а
// к примеру в папке js, тогда необходимо указать так: node js/validate-password.js чтобы наш код отработал в терминале)

// Мы можем прописывать кастомный запуск скрипта. Для этого в файле package.json в разделе "scripts", можем прописать так:
// "scripts": {
//     "valid": "node js/validate-password.js"
//   },

//   после чего в терминале мы можем запускать наш скрипт так: npm run valid и отработает тот же скрипт который был призапуске
//   команды node js/validate-password.js

// Есть только две спец. команды которые можно запускать без run, это start и test, все остальные через run  
// В "scripts": можем прописать кастомные скрипты, которые можем запускать в терминале через node run
// Можно прописывать ещё и pre и post start команды, которые будут запускаться до или после команды start
prestart скрипты могут использоваться к примеру перед сборкой (типа парсела), нам необходимо поудалть лишние файлы,
также можем сделать скрипт preinstall и перед инсталяцией поудалять лишние файлы. А post скрипты можем к примру использовать
когда у нас что-то уже сбилдилось и нам необходимо дополнить чем-то. К примеру сначала делем npm run build а после 
автоматом делаем деплой. echo - это команда чтобы вывести что то как строку. 
На каждую команду может быть свой пре и пост скрипт. К примеру команда dev и у неё predev и postdev
Скрипты могут быть различного уровня сложности.   

Что ещё важно знать? Предположим мы себе в проект скачали данные другого разработчика. Запустили через треминал npm start
а втерминале полезло кучу ошибок, потому что проект другого разработчика который мы подгрузили себе не будет иметь 
папку node_modules т.к. они у него были инсталированы локально. Как их вернуть и развернуть себе на проект локально? Для того
чтобы установить абсолютно все зависимости проекта (а это делается один раз когда подымаешь новую сборку) необходимо прописать
команду npm install после чего все пакеты которые в нем есть устанавливаются тебе локально в проект.

Мы установили три пакета:
    "express": "^4.18.2", // этот пакет предназначен для создания веб сервера
    "joi": "^17.9.2", // c помощь которого запускали проверку на валидацию данных
    "shortid": "^2.2.16" // с помощью этого пакета генерили случайные ороткие id

- Транспиляция кода (при разработке мы используем современый js, но когда выпускаем наш проект в продакшн (это когда мы отдаем наш код браузеру) для этого кода необходимо выполнить транспиляцию). Это необходимо делать потому что пользователи могут использовать очень старые версии браузеров (или необновленные), которые не поддерживают современный JS код и для того чтобы все работало код необходимо преобразовать в старый и этот процесс называется "Транспиляция".  
  - [Babel](https://babeljs.io/) - в транспиляции нам помогает бабел, это просто ещё один инструмент. Добавляется 
  в проект как зависимость через npm instal, но для того чтобы эта зависимость не перешла в продакшн необходио установить доп.
  флажок npm install -D @babel/core @babel/cli хотя в документации указано так: npm install --save-dev @babel/core @babel/cli
  - CLI и npm-скрипты
  - Пресеты
  - [Browserslist](https://github.com/browserslist/browserslist)
- [Сборщик Parcel](https://parceljs.org/) - не устанавливаем глобально (т.е. с флагом -g), т.к. у другого разработчика этого может не быть. Поэтому ставим все пакеты только локально в наш проект
- [ECMAScript модули](https://exploringjs.com/es6/ch_modules.html)
  - Дефолтный (default) експорт и импорт
  - Именованный (named) експорт и импорт
  - Импорт пространства имён (namespace)
